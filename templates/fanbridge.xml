<Application>
  <Name>FanBridge</Name>
  <Version>0.2.0-dev</Version>
  <Overview>Control of external PWM fans over serial USB to Arduino</Overview>
  <Category>System:Utilities</Category>
  <Repository>ghcr.io/robro92/fanbridge:latest</Repository>
  <Support>https://github.com/RoBro92/fanbridge/issues</Support>
  <Project>https://github.com/RoBro92/fanbridge</Project>
  <Icon>https://raw.githubusercontent.com/RoBro92/fanbridge-unraid-templates/master/icons/fanbridge.png</Icon>
  <WebUI>http://[IP]:[PORT:8080]/</WebUI>
  <Network>bridge</Network>
  <Privileged>false</Privileged>

  <ExtraParams>
    --label net.unraid.docker.managed=dockerman
    --label net.unraid.docker.webui='http://[IP]:[PORT:8080]/'
    --label net.unraid.docker.icon='https://raw.githubusercontent.com/RoBro92/fanbridge-unraid-templates/master/icons/fanbridge.png'
  </ExtraParams>

  <!-- Ports -->
  <Config Name="Web UI Port" Target="8080" Default="8080" Mode="tcp" Type="Port" Description="Web UI" Display="always" Required="true" Mask="false">8080</Config>

  <!-- Paths -->
  <Config Name="AppData" Target="/config" Default="/mnt/user/appdata/fanbridge" Type="Path" Mode="rw" Description="Config directory" Display="always" Required="true" Mask="false"/>

  <!-- Environment / tuning -->
  <Config Name="Preferred serial port" Target="FANBRIDGE_SERIAL_PORT" Default="" Type="Variable" Description="Preferred serial port. Leave blank to auto-detect. Recommended: set to your /dev/serial/by-id/... path (stable across re-enumeration)." Display="always" Required="false" Mask="false"></Config>
  <Config Name="Serial baud" Target="FANBRIDGE_SERIAL_BAUD" Default="115200" Type="Variable" Description="Baud rate used to talk to the Arduino/RP2040." Display="advanced" Required="false" Mask="false">115200</Config>

  <!-- Mount Unraid disks.ini directly -->
  <Config Name="Unraid disks.ini" Target="/unraid/disks.ini" Default="/var/local/emhttp/disks.ini" Type="Path" Mode="ro" Description="Bind Unraid disks.ini into container" Display="always" Required="true" Mask="false"/>
  <!-- Optional advanced mount -->
  <Config Name="Unraid emhttp directory" Target="/unraid" Default="/var/local/emhttp" Type="Path" Mode="ro" Description="Bind full emhttp directory instead of single file if needed" Display="advanced" Required="false" Mask="false"/>
    <!-- Mounts for USB Serial device -->
  <Config Name="Serial TTY (Arduino/RP2040)" Target="/dev/ttyACM0" Default="/dev/ttyACM0" Type="Device" Mode="" Description="Map your USB serial TTY (e.g., /dev/ttyACM0 or /dev/ttyUSB0). Prefer mapping the /dev/serial/by-id/<device> symlink as the device for stability." Display="always" Required="true" Mask="false"/>
  <Config Name="Serial by-id directory" Target="/dev/serial/by-id" Default="/dev/serial/by-id" Type="Path" Mode="ro" Description="Expose stable symlinks for USB serial devices. UI and auto-detect will prefer these if present." Display="always" Required="false" Mask="false"/>
</Application>
